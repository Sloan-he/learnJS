<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>函数式编程</title>
</head>
<body>
	
</body>
</html>
<script>
	'use strict'
	//8.8.1
	//计算平均数和标准差

	var data = [1,1,3,5,5]
	var sum = function(x,y){return x+y}
	var square = function(x){return x*x}
	var mean = data.reduce(sum) / data.length
	var deviations = data.map(function(x){return x - mean})
	var stddev = Math.sqrt(deviations.map(square).reduce(sum) / (data.length-1))
	console.log(mean,stddev)

	//8.8.2
	//高阶函数

	function not(f){
		return function(){
			var result = f.apply(this,arguments)
			return !result
		}
	}

	var even = function(x){
		return x % 2 === 0
	}
	var odd = not(even)
	var arr = [1,1,3,5,11]
	console.log(odd)
	console.log(arr.every(odd))


	function mapper(f){
		return function(a){
			return a.map(f)
		}
	}

	var increment = function(x){return x+1}
	var incrementer = mapper(increment)

	console.log(incrementer([1,2,3]))

	var add = function(x,y){
		return x+y
	}

	var mul = function(x){
		return x*x
	}

	var compose = function(f,g){
		return function(){
			return g.call(this,f.apply(this,arguments))
		}
	}

	var mulres = compose(add,mul)
	console.log(mulres(2,3))

</script>